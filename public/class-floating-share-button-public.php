<?php

/**
 * The public-facing functionality of the plugin.
 *
 * @link       https://bowo.io
 * @since      1.0.0
 *
 * @package    Floating_Share_Button
 * @subpackage Floating_Share_Button/public
 */

/**
 * The public-facing functionality of the plugin.
 *
 * Defines the plugin name, version, and two examples hooks for how to
 * enqueue the public-facing stylesheet and JavaScript.
 *
 * @package    Floating_Share_Button
 * @subpackage Floating_Share_Button/public
 * @author     Bowo <hello@bowo.io>
 */
class Floating_Share_Button_Public {

	/**
	 * The ID of this plugin.
	 *
	 * @since    1.0.0
	 * @access   private
	 * @var      string    $plugin_name    The ID of this plugin.
	 */
	private $plugin_name;

	/**
	 * The version of this plugin.
	 *
	 * @since    1.0.0
	 * @access   private
	 * @var      string    $version    The current version of this plugin.
	 */
	private $version;

	/**
	 * Initialize the class and set its properties.
	 *
	 * @since    1.0.0
	 * @param      string    $plugin_name       The name of the plugin.
	 * @param      string    $version    The version of this plugin.
	 */
	public function __construct( $plugin_name, $version ) {

		$this->plugin_name = $plugin_name;
		$this->version = $version;

	}

	/**
	 * Register the stylesheets for the public-facing side of the site.
	 *
	 * @since    1.0.0
	 */
	public function enqueue_styles() {

		/**
		 * This function is provided for demonstration purposes only.
		 *
		 * An instance of this class should be passed to the run() function
		 * defined in Floating_Share_Button_Loader as all of the hooks are defined
		 * in that particular class.
		 *
		 * The Floating_Share_Button_Loader will then create the relationship
		 * between the defined hooks and the functions defined in this
		 * class.
		 */

		wp_enqueue_style( $this->plugin_name, plugin_dir_url( __FILE__ ) . 'css/floating-share-button-public.css', array(), $this->version, 'all' );

	}

	/**
	 * Register the JavaScript for the public-facing side of the site.
	 *
	 * @since    1.0.0
	 */
	public function enqueue_scripts() {

		/**
		 * This function is provided for demonstration purposes only.
		 *
		 * An instance of this class should be passed to the run() function
		 * defined in Floating_Share_Button_Loader as all of the hooks are defined
		 * in that particular class.
		 *
		 * The Floating_Share_Button_Loader will then create the relationship
		 * between the defined hooks and the functions defined in this
		 * class.
		 */

		wp_enqueue_script( $this->plugin_name, plugin_dir_url( __FILE__ ) . 'js/floating-share-button-public.js', array( 'jquery' ), $this->version, false );

	}

	/**
	 * Output the floating share button on the frontend
	 *
	 * @since 1.0.0
	 */

	public function activate_button() {

		$options = get_option( 'floating_share_button' );

		// Main Tab
		$enabled = $options['fsb_button']['enable'];
		$position_class = $options['fsb_button']['position'].'-side';
		$style_class = 'style-'.$options['fsb_button']['style'];

		// Appearance Tab
		$icon = $options['fsb_button']['icon'];
		switch ( $icon ) {
			case 'share2':
				$svg = '<svg viewBox="0 0 16 16" width="16" height="16" class="fsb-share2"><path d="M14,4c1.105,0,2-0.895,2-2c0-1.105-0.895-2-2-2s-2,0.895-2,2c0,0.144,0.017,0.283,0.045,0.418L3.501,6.691  C3.134,6.271,2.601,6,2,6C0.895,6,0,6.895,0,8c0,1.105,0.895,2,2,2c0.601,0,1.134-0.271,1.501-0.691l8.545,4.272  C12.017,13.717,12,13.856,12,14c0,1.105,0.895,2,2,2s2-0.895,2-2c0-1.105-0.895-2-2-2c-0.601,0-1.134,0.271-1.501,0.691L3.955,8.418  C3.983,8.283,4,8.144,4,8c0-0.144-0.017-0.283-0.045-0.418l8.545-4.272C12.866,3.729,13.399,4,14,4z"/></svg>';
				break;
			case 'share1':
				$svg = '<svg viewBox="0 0 20 20" width="20" height="20" class="fsb-share1"><path d="M5.08 12.16A2.99 2.99 0 0 1 0 10a3 3 0 0 1 5.08-2.16l8.94-4.47a3 3 0 1 1 .9 1.79L5.98 9.63a3.03 3.03 0 0 1 0 .74l8.94 4.47A2.99 2.99 0 0 1 20 17a3 3 0 1 1-5.98-.37l-8.94-4.47z"/></svg>';
				break;
			case 'share4':
				$svg = '<svg viewBox="0 0 15 15.207" width="15" height="15.207 class="fsb-share4""><polygon points="7,1.914 7,11.707 8,11.707 8,1.914 10.146,4.061 10.854,3.354 7.5,0 4.146,3.354 4.854,4.061 "/><polygon points="9.5,6.207 9.5,7.207 14,7.207 14,14.207 1,14.207 1,7.207 5.5,7.207 5.5,6.207 0,6.207 0,15.207 15,15.207   15,6.207 "/></svg>';
				break;
			case 'share5':
				$svg = '<svg viewBox="0 0 512 512" width="512" height="512" class="fsb-share5"><path d="M410.81,281.1H440.7V431.41A46.64,46.64,0,0,1,394.11,478H93.5a46.64,46.64,0,0,1-46.59-46.59V130.8A46.64,46.64,0,0,1,93.5,84.21H243.81V114.1H93.5a16.72,16.72,0,0,0-16.7,16.7V431.41a16.72,16.72,0,0,0,16.7,16.7H394.11a16.72,16.72,0,0,0,16.7-16.7ZM210.69,334.84l29.84,1.7L244.16,273c2.54-44.54,22.26-84.35,54.12-109.22a149.51,149.51,0,0,1,91.58-31.51h18L360.6,179.56l21.14,21.14,83.35-83.35L381.74,34,360.6,55.14l47.27,47.26h-18a179.52,179.52,0,0,0-110,37.85c-38.64,30.17-62.54,77.94-65.57,131.08Z"/></svg>';
				break;
			case 'share10':
				$svg = '<svg viewBox="0 0 1792 1792" width="1792" height="1792" class="fsb-share10"><path d="M1764 11q33 24 27 64l-256 1536q-5 29-32 45-14 8-31 8-11 0-24-5l-453-185-242 295q-18 23-49 23-13 0-22-4-19-7-30.5-23.5t-11.5-36.5v-349l864-1059-1069 925-395-162q-37-14-40-55-2-40 32-59l1664-960q15-9 32-9 20 0 36 11z"/></svg>';
				break;

			case 'share11':
				$svg = '<svg viewBox="0 0 32 32" width="32" height="32" class="fsb-share11"><title/><g id="Fill"><path d="M25,22a4,4,0,0,0-3.26,1.69l-11-6.4A4,4,0,0,0,11,16a4.14,4.14,0,0,0-.1-.87L22,8.65A4,4,0,1,0,21,6a4.14,4.14,0,0,0,.1.87L10,13.35A4,4,0,1,0,7,20a4,4,0,0,0,2.66-1L21,25.6c0,.13,0,.26,0,.4a4,4,0,1,0,4-4ZM25,4a2,2,0,1,1-2,2A2,2,0,0,1,25,4ZM7,18a2,2,0,1,1,2-2A2,2,0,0,1,7,18ZM25,28a2,2,0,1,1,2-2A2,2,0,0,1,25,28Z"/></g></svg>';
				break;

			case 'share12':
				$svg = '<svg viewBox="0 0 24 24" width="24" height="24" class="fsb-share12"><defs><style>.cls-1{fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px;}</style></defs><title/><path class="cls-1" d="M20.31,14.44v3.3a1.83,1.83,0,0,1-1.83,1.83h-13a1.83,1.83,0,0,1-1.83-1.83v-3.3" data-name="&lt;Path&gt;" id="_Path_"/><line class="cls-1" data-name="&lt;Path&gt;" id="_Path_2" x1="12" x2="12" y1="14" y2="4"/><polyline class="cls-1" data-name="&lt;Path&gt;" id="_Path_3" points="7.47 8 12 3.47 16.53 8"/></svg>';
				break;

			case 'share13':
				$svg = '<svg viewBox="0 0 24 24" width="24" height="24" class="fsb-share13"><g><path d="M0 0h24v24H0z" fill="none"/><path d="M10 3v2H5v14h14v-5h2v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h6zm7.707 4.707L12 13.414 10.586 12l5.707-5.707L13 3h8v8l-3.293-3.293z"/></g></svg>';
				break;

			case 'share14':
				$svg = '<svg fill="none" height="20" viewBox="0 0 20 20" width="20" class="fsb-share14"><path d="M13.3298 12.8377L17.8269 8.41512L17.8841 8.34968C18.0558 8.12058 18.0367 7.78916 17.8268 7.58283L13.3297 3.16165L13.268 3.10864C12.9078 2.83964 12.3776 3.09805 12.3776 3.57782V5.70757L12.153 5.72268C8.59039 6.00547 6.50344 8.25989 6.00472 12.3501C5.94067 12.8754 6.54318 13.2042 6.93261 12.8564C8.36448 11.5779 9.84382 10.784 11.3776 10.4657C11.6236 10.4147 11.871 10.3759 12.1199 10.3493L12.3776 10.3261V12.4216L12.3829 12.5039C12.4429 12.9566 12.992 13.1699 13.3298 12.8377ZM12.2263 6.72L13.3776 6.64256V4.61104L16.8238 7.99905L13.3776 11.3882V9.23223L12.022 9.35403L12.0136 9.35493C10.3113 9.53692 8.70337 10.2189 7.18674 11.3555C7.48493 10.0174 7.99417 9.01008 8.6632 8.28852C9.49235 7.39426 10.6526 6.84605 12.2263 6.72Z"/><path d="M5.5 4C4.11929 4 3 5.11929 3 6.5V14.5C3 15.8807 4.11929 17 5.5 17H13.5C14.8807 17 16 15.8807 16 14.5V13.5C16 13.2239 15.7761 13 15.5 13C15.2239 13 15 13.2239 15 13.5V14.5C15 15.3284 14.3284 16 13.5 16H5.5C4.67157 16 4 15.3284 4 14.5V6.5C4 5.67157 4.67157 5 5.5 5H8.5C8.77614 5 9 4.77614 9 4.5C9 4.22386 8.77614 4 8.5 4H5.5Z"/></svg>';
				break;

			case 'share15':
				$svg = '<svg fill="none" height="24" viewBox="0 0 24 24" width="24" class="fsb-share15"><path d="M19.7542 11C20.1338 11 20.4476 11.2822 20.4973 11.6482L20.5042 11.75V18.7509C20.5042 20.4839 19.1477 21.9001 17.4386 21.9957L17.2542 22.0009H6.25415C4.52112 22.0009 3.1049 20.6444 3.0093 18.9353L3.00415 18.7509V11.75C3.00415 11.3358 3.33994 11 3.75415 11C4.13385 11 4.44764 11.2822 4.4973 11.6482L4.50415 11.75V18.7509C4.50415 19.669 5.21126 20.4221 6.11062 20.4951L6.25415 20.5009H17.2542C18.1723 20.5009 18.9253 19.7938 18.9983 18.8944L19.0042 18.7509V11.75C19.0042 11.3358 19.3399 11 19.7542 11ZM6.21955 7.2163L11.2158 2.21969C11.4819 1.95356 11.8983 1.9292 12.1919 2.14672L12.276 2.21923L17.2809 7.21585C17.574 7.5085 17.5744 7.98337 17.2818 8.27651C17.0157 8.54299 16.5991 8.56754 16.3053 8.34993L16.2211 8.27738L12.4981 4.561L12.499 16.2549C12.499 16.6346 12.2169 16.9484 11.8508 16.9981L11.749 17.0049C11.3693 17.0049 11.0555 16.7228 11.0059 16.3567L10.999 16.2549L10.9981 4.558L7.28025 8.27692C7.01399 8.5432 6.59733 8.56742 6.30371 8.34958L6.21959 8.27696C5.95331 8.01071 5.92909 7.59404 6.14693 7.30042L6.21955 7.2163L11.2158 2.21969L6.21955 7.2163Z"/></svg>';
				break;

		}

		$size = $options['fsb_button']['size'];
		if ( $size == 'small' ) {
			$size_numeric = 16;
		} elseif ( $size == 'medium' ) {
			$size_numeric = 24;
		} elseif ( $size == 'large' ) {
			$size_numeric = 32;
		} else {}

		$corner_spacing = $options['fsb_button']['corner_spacing'];
		if ( $corner_spacing == 'small' ) {
			$corner_spacing_numeric = 12;
		} elseif ( $corner_spacing == 'medium' ) {
			$corner_spacing_numeric = 20;
		} elseif ( $corner_spacing == 'large' ) {
			$corner_spacing_numeric = 28;
		} else {}

		$border = $options['fsb_button']['border'];
		if ( $border == true ) {
			$border_class = 'has-border';
		} else {
			$border_class = 'no-border';			
		}

		$color_scheme = $options['fsb_button']['color_scheme'];

		if ( $color_scheme == 'dark' ) {
			$background_color = '#000000';
			$icon_color = '#ffffff';
			$border_color = '#ffffff';
		} elseif ( $color_scheme == 'light' ) {
			$background_color = '#ffffff';
			$icon_color = '#000000';
			$border_color = '#000000';
		} elseif ( $color_scheme == 'custom' ) {
			$background_color = $options['fsb_button']['background_color'];
			$icon_color = $options['fsb_button']['icon_color'];
			$border_color = $options['fsb_button']['border_color'];
		} else {}

		$color_scheme_class = 'color-'.$options['fsb_button']['color_scheme'];

		// Behaviour Tab
		$offset_show = $options['fsb_button']['offset_show'];
		$offset_fade = $options['fsb_button']['offset_fade'];

		$idle_transparency = $options['fsb_button']['idle_transparency'];
		$opacity = 1 - ( $idle_transparency / 100);

		// Show or hide on desktop and mobile

		$show_on_mobile = $options['fsb_button']['show_on_mobile'];

		if ( $show_on_mobile == false ) {

			$show_on_mobile_css = '
			@media (max-width:800px) {
				.fsb .floating-share {
					display: none;
				}
			}
			';

		} else {
			$show_on_mobile_css = '';
		}

		$show_on_desktop = $options['fsb_button']['show_on_desktop'];

		if ( $show_on_desktop == false ) {

			$show_on_desktop_css = '
			@media (min-width:801px) {
				.fsb .floating-share {
					display: none;
				}
			}
			';

		} else {
			$show_on_desktop_css = '';
		}

		// Sharesheet

        if ( wp_is_mobile() ) {

        	$device = 'mobile';

        } else {

        	$device = 'desktop';

        }

        // QR Code option

		$show_qrcode = $options['fsb_destinations']['qrcode'];

		if ( $show_qrcode ) {
			$qr_code_html = '<div class="fsb-qr"><img src="https://api.qrserver.com/v1/create-qr-code/?size=120x120&data=https%3A%2F%2Fwpplugins-build.dev.bowo.io%2Fhello-world%2F" /></div>';
		} else {
			$qr_code_html = '';
		}

		// Destinations per row >> Width of sharesheet

		$destinations_per_row = $options['fsb_destinations']['destinations_per_row'];
		$destination_box_width = 56; // pixels
		$destination_box_gap_width = 8; // pixels
		$sharesheet_padding = 40; // pixels
		$sharesheet_width = ( $destination_box_width * $destinations_per_row ) + ( ( $destinations_per_row -1 ) * $destination_box_gap_width ) + ( $sharesheet_padding * 2 ); // pixels

        // Get arrays of destinations by category. Prevent undefined array key when no destination is enabled for a category.

        // Social Networks

        if ( isset( $options['fsb_destinations']['destinations']['social_networks']['enabled'] ) ) {
			$destinations_social_networks = $options['fsb_destinations']['destinations']['social_networks']['enabled'];
        } else {
        	$destinations_social_networks = array();
        }

        // Chat Apps

        if ( isset( $options['fsb_destinations']['destinations']['chat_apps']['enabled'] ) ) {
			$destinations_chat_apps = $options['fsb_destinations']['destinations']['chat_apps']['enabled'];
        } else {
        	$destinations_chat_apps = array();
        }

        // Email Providers

        if ( isset( $options['fsb_destinations']['destinations']['email_providers']['enabled'] ) ) {
			$destinations_email_providers = $options['fsb_destinations']['destinations']['email_providers']['enabled'];
        } else {	
        	$destinations_email_providers = array();
        }

        // More

        if ( isset( $options['fsb_destinations']['destinations']['more']['enabled'] ) ) {
			$destinations_more = $options['fsb_destinations']['destinations']['more']['enabled'];
        } else {
        	$destinations_more = array();
        }

		$destinations_array = array_merge( $destinations_social_networks, $destinations_chat_apps, $destinations_email_providers, $destinations_more );
		$destinations_string = implode(" ", array_keys( $destinations_array ));

        // Get post permalink, title and featured image

        $post_url = urlencode( get_the_permalink() );
        $post_title = urlencode( get_the_title() );
        $post_media = urlencode( get_the_post_thumbnail_url( get_the_ID(), 'full' ) );

        // Array of share URLs
        // References: https://sharethis.com/ -- https://www.addthis.com/ -- https://www.addtoany.com/share

        $share_urls = array(
        	'facebook'		=> 'https://www.facebook.com/sharer.php',
        	'twitter'		=> 'https://twitter.com/share',
        	'linkedin'		=> 'https://www.linkedin.com/sharing/share-offsite/',
        	'pinterest'		=> 'https://pinterest.com/pin/create/bookmarklet/',
        	'snapchat'		=> 'https://snapchat.com/scan',
        	'vk'			=> 'https://vk.com/share.php',
        	'qzone'			=> 'https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey',
        	'weibo'			=> 'http://service.weibo.com/share/share.php',
        	'mixi'			=> 'https://mixi.jp/share.pl',
        	'whatsapp'		=> 'https://api.whatsapp.com/send',
        	'telegram'		=> 'https://t.me/share/url',
        	'messenger'		=> 'https://www.facebook.com/dialog/send',
        	// 'wechat'		=> 'https://api.qrserver.com/v1/create-qr-code/',
        	'wechat'		=> 'https://api.addthis.com/oexchange/0.8/forward/wechat/offer',
        	'skype'			=> 'https://web.skype.com/share',
        	'line'			=> 'https://lineit.line.me/share/ui',
        	'viber'			=> 'viber://forward',
        	'qq'			=> 'https://connect.qq.com/widget/shareqq/index.html',
        	'gmail'			=> 'https://mail.google.com/mail/',
        	'yahoomail'		=> 'http://compose.mail.yahoo.com',
        	'outlook'		=> 'https://outlook.live.com/mail/0/deeplink',
        	'email'			=> 'mailto:',
        	'mailru'		=> 'https://connect.mail.ru/share',
        	'tumblr'		=> 'https://www.tumblr.com/share',
        	'reddit'		=> 'https://www.reddit.com/submit',
        	'flipboard'		=> 'https://share.flipboard.com/bookmarklet/popout',
        	'mix'			=> 'https://mix.com/add',
        	'instapaper'	=> 'http://www.instapaper.com/edit',
        	'pocket'		=> 'https://getpocket.com/edit',
        	'hackernews'	=> 'https://news.ycombinator.com/submitlink',
        	'googleclassroom' => 'https://classroom.google.com/u/0/share',
        	'buffer'		=> 'https://buffer.com/add',
        	'evernote'		=> 'http://www.evernote.com/clip.action',
        	'trello'		=> 'https://trello.com/add-card',
        );

        $share_icons = array(
        	'facebook'		=> '<svg viewBox="0 0 24 24" width="24" height="24"><path d="M16.75,9H13.5V7a1,1,0,0,1,1-1h2V3H14a4,4,0,0,0-4,4V9H8v3h2v9h3.5V12H16Z"/></svg>',
        	'twitter'		=> '<svg viewBox="0 0 24 24" width="24" height="24"><title/><circle cx="16" cy="8" r="4"/><path d="M12.58331,8.83331C12.37488,8.83331,12,9.26563,12,9.5A8.5,8.5,0,0,1,3.5,18a8.52217,8.52217,0,0,1-1.28479-.1073A11.41717,11.41717,0,0,0,20,8.41663C20,7.681,15.31757,8.83331,12.58331,8.83331Z"/><path d="M12.58331,8.83331a11.385,11.385,0,0,1-8.69452-4.028A3.93758,3.93758,0,0,0,3.35,6.77081,3.9792,3.9792,0,0,0,7.32916,10.75c2.12482,0,5.89844.02264,6.14691-1.96179C13.18054,8.81116,12.8847,8.83331,12.58331,8.83331Z"/><path d="M5.24585,10.04163a3.93437,3.93437,0,0,1-1.88977-.49774c-.00031.02057-.0061.03961-.0061.06024a3.9792,3.9792,0,0,0,3.97919,3.97919c2.19763,0,5.275-1.594,5.275-3.79165C12.60417,8.282,7.42285,10.04163,5.24585,10.04163Z"/><path d="M7.72642,12.99649a3.90991,3.90991,0,0,1-3.02909.52286A3.96636,3.96636,0,0,0,8.49585,16.375a5.25835,5.25835,0,0,0,4.67082-4.66667C13.16667,9.81478,8.82831,12.28888,7.72642,12.99649Z"/><path d="M17.61041,5.37915c-1.32214,0-1.63562,1.6604.075,1.6604a3.96629,3.96629,0,0,0,3.754-2.71222A7.49909,7.49909,0,0,1,17.61041,5.37915Z"/><path d="M18.82916,6.5354a7.52209,7.52209,0,0,1-2.93716-.593c-2.70831-1.14551-4.35526,3.343-.18784,3.343A7.53392,7.53392,0,0,0,22.05579,5.803,7.50268,7.50268,0,0,1,18.82916,6.5354Z"/></svg>',
        	'linkedin'		=> '<svg viewBox="0 0 24 24" width="24" height="24"><title/><rect height="11" height="24" width="4" x="3" y="9"/><circle cx="5" cy="5" r="2"/><path d="M16.5,8.25A4.47251,4.47251,0,0,0,13,9.95343V9H9V20h4V13a2,2,0,0,1,4,0v7h4V12.75A4.5,4.5,0,0,0,16.5,8.25Z"/></svg>',
        	'pinterest'		=> '<svg viewBox="0 0 24 24" width="24" height="24"><title/><path d="M12.05689,3.41667A6.92132,6.92132,0,0,0,4.99219,10.187a3.93842,3.93842,0,0,0,1.937,3.67044.53625.53625,0,0,0,.79812-.33718l.19277-.823a.50436.50436,0,0,0-.14323-.499,2.69066,2.69066,0,0,1-.73672-2.39653,5.03722,5.03722,0,0,1,4.975-4.57643c3.12027-.05518,5.00867,1.8975,4.3626,5.66614-.68545,3.99861-3.9774,4.86143-4.75694,2.69328a2.00728,2.00728,0,0,1,.02829-1.21247c.17891-.61969.4894-1.59175.64116-2.13062.35887-1.27427.23248-2.45578-.92719-2.74062-.89886-.22077-1.805.38623-2.19719,1.76525a3.88589,3.88589,0,0,0,.22638,2.4543L8.01981,17.405a4.37535,4.37535,0,0,0-.118,1.21957l.12181,2.76261A.236.236,0,0,0,8.468,21.487l1.32992-2.51835a4.37535,4.37535,0,0,0,.36863-.954l.71136-2.7678c2.35839,3.0342,7.31862.59536,7.99979-3.96644C19.651,6.10086,16.68257,3.45868,12.05689,3.41667Z"/></svg>',
        	'googleclassroom' => '<svg viewBox="0 0 30 30" width="30px" height="30px"><path d="M 7 4 C 5.346 4 4 5.346 4 7 L 4 23 C 4 24.654 5.346 26 7 26 L 23 26 C 24.654 26 26 24.654 26 23 L 26 7 C 26 5.346 24.654 4 23 4 L 7 4 z M 7 6 L 23 6 C 23.551 6 24 6.448 24 7 L 24 23 C 24 23.552 23.551 24 23 24 L 21 24 L 21 22 L 16 22 L 16 24 L 7 24 C 6.449 24 6 23.552 6 23 L 6 7 C 6 6.448 6.449 6 7 6 z M 15 9 A 2 2 0 0 0 13 11 A 2 2 0 0 0 15 13 A 2 2 0 0 0 17 11 A 2 2 0 0 0 15 9 z M 10.5 11 A 1.5 1.5 0 0 0 9 12.5 A 1.5 1.5 0 0 0 10.5 14 A 1.5 1.5 0 0 0 12 12.5 A 1.5 1.5 0 0 0 10.5 11 z M 19.5 11 A 1.5 1.5 0 0 0 18 12.5 A 1.5 1.5 0 0 0 19.5 14 A 1.5 1.5 0 0 0 21 12.5 A 1.5 1.5 0 0 0 19.5 11 z M 15 14 C 12.339 14 11.5 16.5 11.5 16.5 C 11.5 15.654 12 15 12 15 C 11.7 14.814 10.932406 14.6875 10.566406 14.6875 C 9.3534062 14.6885 8 15.875594 8 16.683594 L 8 19 L 22 19 L 22 16.683594 C 22 15.875594 20.483594 14.6875 19.433594 14.6875 C 19.067594 14.6875 18.3 14.814 18 15 C 18 15 18.5 15.654 18.5 16.5 C 18.5 16.5 17.661 14 15 14 z"/></svg>',
        	'snapchat'		=> '<svg viewBox="0 0 512 512" width="512" height="512"><path d="M496.926,366.6c-3.373-9.176-9.8-14.086-17.112-18.153-1.376-.806-2.641-1.451-3.72-1.947-2.182-1.128-4.414-2.22-6.634-3.373-22.8-12.09-40.609-27.341-52.959-45.42a102.889,102.889,0,0,1-9.089-16.12c-1.054-3.013-1-4.724-.248-6.287a10.221,10.221,0,0,1,2.914-3.038c3.918-2.591,7.96-5.22,10.7-6.993,4.885-3.162,8.754-5.667,11.246-7.44,9.362-6.547,15.909-13.5,20-21.278a42.371,42.371,0,0,0,2.1-35.191c-6.2-16.318-21.613-26.449-40.287-26.449a55.543,55.543,0,0,0-11.718,1.24c-1.029.224-2.059.459-3.063.72.174-11.16-.074-22.94-1.066-34.534-3.522-40.758-17.794-62.123-32.674-79.16A130.167,130.167,0,0,0,332.1,36.443C309.515,23.547,283.91,17,256,17S202.6,23.547,180,36.443a129.735,129.735,0,0,0-33.281,26.783c-14.88,17.038-29.152,38.44-32.673,79.161-.992,11.594-1.24,23.435-1.079,34.533-1-.26-2.021-.5-3.051-.719a55.461,55.461,0,0,0-11.717-1.24c-18.687,0-34.125,10.131-40.3,26.449a42.423,42.423,0,0,0,2.046,35.228c4.105,7.774,10.652,14.731,20.014,21.278,2.48,1.736,6.361,4.24,11.246,7.44,2.641,1.711,6.5,4.216,10.28,6.72a11.054,11.054,0,0,1,3.3,3.311c.794,1.624.818,3.373-.36,6.6a102.02,102.02,0,0,1-8.94,15.785c-12.077,17.669-29.363,32.648-51.434,44.639C32.355,348.608,20.2,352.75,15.069,366.7c-3.868,10.528-1.339,22.506,8.494,32.6a49.137,49.137,0,0,0,12.4,9.387,134.337,134.337,0,0,0,30.342,12.139,20.024,20.024,0,0,1,6.126,2.741c3.583,3.137,3.075,7.861,7.849,14.78a34.468,34.468,0,0,0,8.977,9.127c10.019,6.919,21.278,7.353,33.207,7.811,10.776.41,22.989.881,36.939,5.481,5.778,1.91,11.78,5.605,18.736,9.92C194.842,480.951,217.707,495,255.973,495s61.292-14.123,78.118-24.428c6.907-4.24,12.872-7.9,18.489-9.758,13.949-4.613,26.163-5.072,36.939-5.481,11.928-.459,23.187-.893,33.206-7.812a34.584,34.584,0,0,0,10.218-11.16c3.434-5.84,3.348-9.919,6.572-12.771a18.971,18.971,0,0,1,5.753-2.629A134.893,134.893,0,0,0,476.02,408.71a48.344,48.344,0,0,0,13.019-10.193l.124-.149C498.389,388.5,500.708,376.867,496.926,366.6Zm-34.013,18.277c-20.745,11.458-34.533,10.23-45.259,17.137-9.114,5.865-3.72,18.513-10.342,23.076-8.134,5.617-32.177-.4-63.239,9.858-25.618,8.469-41.961,32.822-88.038,32.822s-62.036-24.3-88.076-32.884c-31-10.255-55.092-4.241-63.239-9.858-6.609-4.563-1.24-17.211-10.341-23.076-10.739-6.907-24.527-5.679-45.26-17.075-13.206-7.291-5.716-11.8-1.314-13.937,75.143-36.381,87.133-92.552,87.666-96.719.645-5.046,1.364-9.014-4.191-14.148-5.369-4.96-29.189-19.7-35.8-24.316-10.937-7.638-15.748-15.264-12.2-24.638,2.48-6.485,8.531-8.928,14.879-8.928a27.643,27.643,0,0,1,5.965.67c12,2.6,23.659,8.617,30.392,10.242a10.749,10.749,0,0,0,2.48.335c3.6,0,4.86-1.811,4.612-5.927-.768-13.132-2.628-38.725-.558-62.644,2.84-32.909,13.442-49.215,26.04-63.636,6.051-6.932,34.484-36.976,88.857-36.976s82.88,29.92,88.931,36.827c12.611,14.421,23.225,30.727,26.04,63.636,2.071,23.919.285,49.525-.558,62.644-.285,4.327,1.017,5.927,4.613,5.927a10.648,10.648,0,0,0,2.48-.335c6.745-1.624,18.4-7.638,30.4-10.242a27.641,27.641,0,0,1,5.964-.67c6.386,0,12.4,2.48,14.88,8.928,3.546,9.374-1.24,17-12.189,24.639-6.609,4.612-30.429,19.343-35.8,24.315-5.568,5.134-4.836,9.1-4.191,14.149.533,4.228,12.511,60.4,87.666,96.718C468.629,373.011,476.119,377.524,462.913,384.877Z"/></svg>',
        	'vk'			=> '<svg viewBox="0 0 24 24" width="24" height="24"><path d="M21.54736,7H18.25688a.74281.74281,0,0,0-.65452.39156s-1.31237,2.41693-1.73392,3.231C14.73438,12.8125,14,12.125,14,11.10863V7.60417A1.10417,1.10417,0,0,0,12.89583,6.5h-2.474a1.9818,1.9818,0,0,0-1.751.8125s1.25626-.20312,1.25626,1.48958c0,.41974.02162,1.62723.04132,2.64a.72943.72943,0,0,1-1.273.50431,21.54029,21.54029,0,0,1-2.4982-4.54359A.69314.69314,0,0,0,5.5668,7C4.8532,7,3.42522,7,2.57719,7a.508.508,0,0,0-.47969.68481C3.00529,10.17487,6.91576,18,11.37917,18h1.87865A.74219.74219,0,0,0,14,17.25781V16.12342a.7293.7293,0,0,1,1.22868-.5315l2.24861,2.1127A1.08911,1.08911,0,0,0,18.223,18h2.95281c1.42415,0,1.42415-.98824.64768-1.75294-.54645-.53817-2.51832-2.61663-2.51832-2.61663A1.01862,1.01862,0,0,1,19.2268,12.307c.63737-.83876,1.67988-2.21175,2.122-2.79993C21.95313,8.70313,23.04688,7,21.54736,7Z"/></svg>',
        	'qzone'			=> '<svg viewBox="0 0 24 24" width="24" height="24"><path d="M23.985 9.202c-.032-.099-.127-.223-.334-.258-.207-.036-7.351-1.406-7.351-1.406s-.105-.022-.198-.07c-.092-.047-.127-.167-.127-.167S12.447.956 12.349.77C12.25.583 12.104.532 12 .532c-.104 0-.251.051-.349.238-.098.186-3.626 6.531-3.626 6.531s-.035.12-.128.167c-.092.047-.197.07-.197.07S.556 8.908.348 8.943c-.208.036-.302.16-.333.258a.477.477 0 0 0 .125.449l5.362 5.49s.072.08.119.172c.016.104.005.21.005.21s-1.189 7.242-1.22 7.45.075.369.159.43c.083.062.233.106.421.013.189-.093 6.812-3.261 6.812-3.261s.098-.044.201-.061c.103-.017.201.061.201.061s6.623 3.168 6.812 3.261c.188.094.338.049.421-.013a.463.463 0 0 0 .159-.43c-.021-.14-.93-5.677-.93-5.677.876-.54 1.425-1.039 1.849-1.747-2.594.969-6.006 1.717-9.415 1.866-.915.041-2.41.097-3.473-.015-.678-.071-1.17-.144-1.243-.438-.053-.215.054-.46.545-.831a2640.5 2640.5 0 0 1 2.861-2.155c1.285-.968 3.559-2.47 3.559-2.731 0-.285-2.144-.781-4.037-.781-1.945 0-2.275.132-2.811.168-.488.034-.769.005-.804-.138-.06-.248.183-.389.588-.568.709-.314 1.86-.594 1.984-.626.194-.052 3.082-.805 5.618-.535 1.318.14 3.244.668 3.244 1.276 0 .342-1.721 1.494-3.225 2.597-1.149.843-2.217 1.561-2.217 1.688 0 .342 3.533 1.241 6.689 1.01l.003-.022c.048-.092.119-.172.119-.172l5.362-5.49a.477.477 0 0 0 .127-.449z"/></svg>',
        	'weibo'			=> '<svg viewBox="0 0 24 24" width="24" height="24"><path d="M8.41315,12.55426a3.19894,3.19894,0,0,0-2.4389,3.77838A3.1989,3.1989,0,0,0,10.08118,18.165a3.199,3.199,0,0,0,2.439-3.77838A3.199,3.199,0,0,0,8.41315,12.55426Zm.074,4.33948a1.11249,1.11249,0,0,1-1.44446-.56451A1.1125,1.1125,0,0,1,7.93109,15.058a1.11257,1.11257,0,0,1,1.44452.56445A1.11258,1.11258,0,0,1,8.48718,16.89374Zm1.6106-1.71967a.38106.38106,0,1,1-.21472-.70892.381.381,0,1,1,.21472.70892Z"/><path d="M16.79175,11.39026a2.62764,2.62764,0,0,0,.12231-2.715c-.77966-1.00891-2.78973-.82544-4.99719.278a.25539.25539,0,0,1-.34607-.32574c.42548-1.12085.4314-2.06958-.08551-2.61176C10.36914,4.84515,7.2475,6.0097,4.513,8.61694,2.12671,10.89215.82471,13.51355,1.27325,14.92236c-.00275.112-.01166.22028-.00323.33893.22943,3.23694,4.57544,5.56616,9.70715,5.20245s8.87634-3.27441,8.87634-6.51947C19.85352,12.74115,18.65027,11.889,16.79175,11.39026Zm-6.67023,7.77368c-3.47644.2464-6.42694-1.41992-6.59-3.72174s2.52283-4.36761,5.99927-4.614,6.42694,1.41992,6.59009,3.72174S13.598,18.91754,10.12152,19.16394Z"/><path d="M18.96045,9.50781a.76.76,0,0,0,.11426.00879.74974.74974,0,0,0,.74023-.63672,3.00236,3.00236,0,0,0-3.42578-3.42236.75027.75027,0,0,0,.23242,1.48242A1.52849,1.52849,0,0,1,18.3501,8.42236a1.56289,1.56289,0,0,1-.01758.231A.74908.74908,0,0,0,18.96045,9.50781Z"/><path d="M16.8501,2.67236a5.85424,5.85424,0,0,0-1.0083.08789.75018.75018,0,0,0,.26074,1.47754,4.30188,4.30188,0,0,1,.74756-.06543,4.25458,4.25458,0,0,1,4.12109,5.29395.74987.74987,0,1,0,1.4541.36719,5.75366,5.75366,0,0,0-5.5752-7.16113Z"/></svg>',
        	'mixi'			=> '<svg viewBox="0 0 24 24" width="24" height="24"><path clip-rule="evenodd" d="M12 3C6.87398 3 3 6.51323 3 10.5263C3 14.5394 6.87398 18.0526 12 18.0526C12.5523 18.0526 13 18.5003 13 19.0526V20.8532C14.8816 20.4136 16.7222 19.0647 18.1978 17.247C19.9447 15.095 21 12.5037 21 10.5263C21 6.51323 17.126 3 12 3ZM1 10.5263C1 5.12149 6.08033 1 12 1C17.9197 1 23 5.12149 23 10.5263C23 13.0989 21.6875 16.1216 19.7505 18.5075C17.8153 20.8914 15.0764 22.8575 12.0466 22.9989C11.7736 23.0117 11.5073 22.9121 11.3096 22.7234C11.1119 22.5347 11 22.2733 11 22V20.0132C5.51949 19.5802 1 15.6241 1 10.5263Z" fill-rule="evenodd"/><path clip-rule="evenodd" d="M9 6.5V14.5H7V6.5H9Z" fill-rule="evenodd"/><path clip-rule="evenodd" d="M10.9999 9.73608C10.9999 8.9927 10.2176 8.5092 9.55274 8.84165L8.44716 9.39444L7.55273 7.60558L8.65831 7.0528C10.653 6.05545 12.9999 7.50593 12.9999 9.73608V14.5H10.9999V9.73608Z" fill-rule="evenodd"/><path clip-rule="evenodd" d="M14.9999 9.73608C14.9999 8.9927 14.2176 8.5092 13.5527 8.84165L12.4472 9.39444L11.5527 7.60558L12.6583 7.0528C14.653 6.05545 16.9999 7.50593 16.9999 9.73608V14.5H14.9999V9.73608Z" fill-rule="evenodd"/></svg>',
        	'whatsapp'		=> '<svg viewBox="0 0 24 24" width="24" height="24"><g><path d="M0 0h24v24H0z" fill="none"/><path d="M2.004 22l1.352-4.968A9.954 9.954 0 0 1 2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10a9.954 9.954 0 0 1-5.03-1.355L2.004 22zM8.391 7.308a.961.961 0 0 0-.371.1 1.293 1.293 0 0 0-.294.228c-.12.113-.188.211-.261.306A2.729 2.729 0 0 0 6.9 9.62c.002.49.13.967.33 1.413.409.902 1.082 1.857 1.971 2.742.214.213.423.427.648.626a9.448 9.448 0 0 0 3.84 2.046l.569.087c.185.01.37-.004.556-.013a1.99 1.99 0 0 0 .833-.231c.166-.088.244-.132.383-.22 0 0 .043-.028.125-.09.135-.1.218-.171.33-.288.083-.086.155-.187.21-.302.078-.163.156-.474.188-.733.024-.198.017-.306.014-.373-.004-.107-.093-.218-.19-.265l-.582-.261s-.87-.379-1.401-.621a.498.498 0 0 0-.177-.041.482.482 0 0 0-.378.127v-.002c-.005 0-.072.057-.795.933a.35.35 0 0 1-.368.13 1.416 1.416 0 0 1-.191-.066c-.124-.052-.167-.072-.252-.109l-.005-.002a6.01 6.01 0 0 1-1.57-1c-.126-.11-.243-.23-.363-.346a6.296 6.296 0 0 1-1.02-1.268l-.059-.095a.923.923 0 0 1-.102-.205c-.038-.147.061-.265.061-.265s.243-.266.356-.41a4.38 4.38 0 0 0 .263-.373c.118-.19.155-.385.093-.536-.28-.684-.57-1.365-.868-2.041-.059-.134-.234-.23-.393-.249-.054-.006-.108-.012-.162-.016a3.385 3.385 0 0 0-.403.004z" fill-rule="nonzero"/></g></svg>',
        	'telegram'		=> '<svg viewBox="0 0 100 100" width="100" height="100"><path d="M95,9.9c-1.3-1.1-3.4-1.2-7-0.1c0,0,0,0,0,0c-2.5,0.8-24.7,9.2-44.3,17.3c-17.6,7.3-31.9,13.7-33.6,14.5  c-1.9,0.6-6,2.4-6.2,5.2c-0.1,1.8,1.4,3.4,4.3,4.7c3.1,1.6,16.8,6.2,19.7,7.1c1,3.4,6.9,23.3,7.2,24.5c0.4,1.8,1.6,2.8,2.2,3.2  c0.1,0.1,0.3,0.3,0.5,0.4c0.3,0.2,0.7,0.3,1.2,0.3c0.7,0,1.5-0.3,2.2-0.8c3.7-3,10.1-9.7,11.9-11.6c7.9,6.2,16.5,13.1,17.3,13.9  c0,0,0.1,0.1,0.1,0.1c1.9,1.6,3.9,2.5,5.7,2.5c0.6,0,1.2-0.1,1.8-0.3c2.1-0.7,3.6-2.7,4.1-5.4c0-0.1,0.1-0.5,0.3-1.2  c3.4-14.8,6.1-27.8,8.3-38.7c2.1-10.7,3.8-21.2,4.8-26.8c0.2-1.4,0.4-2.5,0.5-3.2C96.3,13.5,96.5,11.2,95,9.9z M30,58.3l47.7-31.6  c0.1-0.1,0.3-0.2,0.4-0.3c0,0,0,0,0,0c0.1,0,0.1-0.1,0.2-0.1c0.1,0,0.1,0,0.2-0.1c-0.1,0.1-0.2,0.4-0.4,0.6L66,38.1  c-8.4,7.7-19.4,17.8-26.7,24.4c0,0,0,0,0,0.1c0,0-0.1,0.1-0.1,0.1c0,0,0,0.1-0.1,0.1c0,0.1,0,0.1-0.1,0.2c0,0,0,0.1,0,0.1  c0,0,0,0,0,0.1c-0.5,5.6-1.4,15.2-1.8,19.5c0,0,0,0,0-0.1C36.8,81.4,31.2,62.3,30,58.3z"/></svg>',
        	'messenger'		=> '<svg viewBox="0 0 100 100" width="100" height="100"><path d="M50,4C24.6,4,4,22.4,4,45c0,13.6,7.5,26.2,20,33.8L24,95c0,0.4,0.2,0.7,0.5,0.9C24.7,96,24.8,96,25,96  c0.2,0,0.4-0.1,0.5-0.2l16.1-10.5c2.7,0.5,5.6,0.7,8.4,0.7c25.4,0,46-18.4,46-41S75.4,4,50,4z M80.7,33.4l-25,25  c-0.4,0.4-1,0.4-1.4,0l-9.5-9.5l-24.4,9.8c-0.1,0-0.2,0.1-0.4,0.1c-0.3,0-0.6-0.2-0.8-0.4c-0.3-0.4-0.2-0.9,0.1-1.3l25-25  c0.4-0.4,1-0.4,1.4,0l9.5,9.5l24.4-9.8c0.4-0.2,0.9,0,1.2,0.4C81.1,32.5,81,33,80.7,33.4z"/></svg>',
        	'wechat'		=> '<svg viewBox="0 0 24 24" width="24" height="24"><g><path d="M0 0h24v24H0z" fill="none"/><path d="M18.574 13.711a.91.91 0 0 0 .898-.898c0-.498-.399-.898-.898-.898s-.898.4-.898.898c0 .5.4.898.898.898zm-4.425 0a.91.91 0 0 0 .898-.898c0-.498-.4-.898-.898-.898-.5 0-.898.4-.898.898 0 .5.399.898.898.898zm6.567 5.04a.347.347 0 0 0-.172.37c0 .048 0 .097.025.147.098.417.294 1.081.294 1.106 0 .073.025.122.025.172a.22.22 0 0 1-.221.22c-.05 0-.074-.024-.123-.048l-1.449-.836a.799.799 0 0 0-.344-.098c-.073 0-.147 0-.196.024-.688.197-1.4.295-2.161.295-3.66 0-6.607-2.457-6.607-5.505 0-3.047 2.947-5.505 6.607-5.505 3.659 0 6.606 2.458 6.606 5.505 0 1.647-.884 3.146-2.284 4.154zM16.673 8.099a9.105 9.105 0 0 0-.28-.005c-4.174 0-7.606 2.86-7.606 6.505 0 .554.08 1.09.228 1.6h-.089a9.963 9.963 0 0 1-2.584-.368c-.074-.025-.148-.025-.222-.025a.832.832 0 0 0-.418.123l-1.748 1.005c-.05.025-.099.05-.148.05a.273.273 0 0 1-.27-.27c0-.074.024-.123.049-.197.024-.024.246-.834.369-1.324 0-.05.024-.123.024-.172a.556.556 0 0 0-.221-.442C2.058 13.376 1 11.586 1 9.598 1 5.945 4.57 3 8.95 3c3.765 0 6.93 2.169 7.723 5.098zm-5.154.418c.573 0 1.026-.477 1.026-1.026 0-.573-.453-1.026-1.026-1.026s-1.026.453-1.026 1.026.453 1.026 1.026 1.026zm-5.26 0c.573 0 1.027-.477 1.027-1.026 0-.573-.454-1.026-1.027-1.026-.572 0-1.026.453-1.026 1.026s.454 1.026 1.026 1.026z"/></g></svg>',
        	'skype'			=> '<svg viewBox="0 0 100 100" width="100" height="100"><path d="M94.6,62.2c-0.9-2.4-1-2.6-0.6-7c0.9-8.6-0.4-16-4-23.2C84.5,20.3,73.7,11.6,60.5,8.3c-3-0.8-5.3-1.1-11.2-1.1  c-6.4,0-7.2-0.2-8.6-0.9C38,5,33.5,4.1,30,4.1c-8.6,0-16.6,4.2-21.5,11.1c-4.8,6.8-5.8,15.2-2.9,23c1,3.1,1.2,3.7,1.2,11.4  c0,7.3,0.2,9.1,1.1,12.2C12.7,78.4,26.1,90.4,43,93.3c3.3,0.4,5.6,0.6,9.8,0.4c4.5-0.2,5.7-0.2,6.8,0.3c0.6,0.3,1.5,0.5,2.4,0.7  c0.6,0.2,1.2,0.3,1.8,0.5c0.1,0,0.2,0.1,0.3,0.1h0.1c1.7,0.4,3.9,0.6,6.1,0.6c2,0,4-0.2,5.4-0.5c3.2-0.8,8.2-3.1,10.9-5.3  C94.8,83.5,98.1,72.3,94.6,62.2z M31.8,58.1c1.9,0,3.4,0.8,5.5,4.7c3,5.9,5.7,7.8,11.7,8.2c5.1,0.2,9-1,11.6-3.5  c1.8-1.8,2.1-2.5,2.1-4.8c0-2.1-0.5-3.1-1.5-4.3c-2.1-2.3-4.6-3.4-12.2-5.2c-11-2.6-13.9-3.8-17.5-7.1c-3.2-2.8-3.8-4.1-3.8-9.2  c0-4.9,0.6-6.4,3.6-9.4c3.9-3.8,9.8-5.6,18.6-5.6c8.2,0,13.2,1.5,17.8,5.2c2.5,2.2,3.9,5.4,3.6,8.3c-0.2,1.8-1.1,3.1-2.5,3.8  c-2.6,1.2-4.8,1.1-7.6-3.1c-3.7-5.7-6.7-7.4-13-6.9c-4.5,0.2-7.8,1.6-9.2,3.9c-1.5,2.1-1.3,3.9,0.5,5.9c1.9,2.1,4,2.9,11.8,4.8  c11.6,2.8,16.4,4.8,19.4,8.2c3.7,4,4.4,10.4,1.7,15.9c-2.1,4.6-7.7,8.4-14.3,9.8c-0.1,0-0.2,0-0.3,0.1c-4,0.7-12.4,0.7-16.2-0.1  c-6.6-1.4-11.6-4.9-14.1-10c-1.5-3.1-1.7-5.8-0.6-7.6C28,58.8,29.6,58.1,31.8,58.1z"/></svg>',
        	'line'			=> '<svg viewBox="0 0 24 24" width="24" height="24"><g><path d="M0 0h24v24H0z" fill="none"/><path d="M18.663 10.84a.526.526 0 0 1-.526.525h-1.462v.938h1.462a.525.525 0 1 1 0 1.049H16.15a.526.526 0 0 1-.522-.524V8.852c0-.287.235-.525.525-.525h1.988a.525.525 0 0 1-.003 1.05h-1.462v.938h1.462c.291 0 .526.237.526.525zm-4.098 2.485a.538.538 0 0 1-.166.025.515.515 0 0 1-.425-.208l-2.036-2.764v2.45a.525.525 0 0 1-1.047 0V8.852a.522.522 0 0 1 .52-.523c.162 0 .312.086.412.211l2.052 2.775V8.852c0-.287.235-.525.525-.525.287 0 .525.238.525.525v3.976a.524.524 0 0 1-.36.497zm-4.95.027a.526.526 0 0 1-.523-.524V8.852c0-.287.236-.525.525-.525.289 0 .524.238.524.525v3.976a.527.527 0 0 1-.526.524zm-1.53 0H6.098a.528.528 0 0 1-.525-.524V8.852a.527.527 0 0 1 1.05 0v3.45h1.464a.525.525 0 0 1 0 1.05zM12 2.572c-5.513 0-10 3.643-10 8.118 0 4.01 3.558 7.369 8.363 8.007.325.068.769.215.881.492.1.25.066.638.032.9l-.137.85c-.037.25-.2.988.874.537 1.076-.449 5.764-3.398 7.864-5.812C21.313 14.089 22 12.477 22 10.69c0-4.475-4.488-8.118-10-8.118z" fill-rule="nonzero"/></g></svg>',
        	'viber'			=> '<svg viewBox="0 0 512 512" width="512" height="512"><path d="M444 49.9C431.3 38.2 379.9.9 265.3.4c0 0-135.1-8.1-200.9 52.3C27.8 89.3 14.9 143 13.5 209.5c-1.4 66.5-3.1 191.1 117 224.9h.1l-.1 51.6s-.8 20.9 13 25.1c16.6 5.2 26.4-10.7 42.3-27.8 8.7-9.4 20.7-23.2 29.8-33.7 82.2 6.9 145.3-8.9 152.5-11.2 16.6-5.4 110.5-17.4 125.7-142 15.8-128.6-7.6-209.8-49.8-246.5zM457.9 287c-12.9 104-89 110.6-103 115.1-6 1.9-61.5 15.7-131.2 11.2 0 0-52 62.7-68.2 79-5.3 5.3-11.1 4.8-11-5.7 0-6.9.4-85.7.4-85.7-.1 0-.1 0 0 0-101.8-28.2-95.8-134.3-94.7-189.8 1.1-55.5 11.6-101 42.6-131.6 55.7-50.5 170.4-43 170.4-43 96.9.4 143.3 29.6 154.1 39.4 35.7 30.6 53.9 103.8 40.6 211.1zm-139-80.8c.4 8.6-12.5 9.2-12.9.6-1.1-22-11.4-32.7-32.6-33.9-8.6-.5-7.8-13.4.7-12.9 27.9 1.5 43.4 17.5 44.8 46.2zm20.3 11.3c1-42.4-25.5-75.6-75.8-79.3-8.5-.6-7.6-13.5.9-12.9 58 4.2 88.9 44.1 87.8 92.5-.1 8.6-13.1 8.2-12.9-.3zm47 13.4c.1 8.6-12.9 8.7-12.9.1-.6-81.5-54.9-125.9-120.8-126.4-8.5-.1-8.5-12.9 0-12.9 73.7.5 133 51.4 133.7 139.2zM374.9 329v.2c-10.8 19-31 40-51.8 33.3l-.2-.3c-21.1-5.9-70.8-31.5-102.2-56.5-16.2-12.8-31-27.9-42.4-42.4-10.3-12.9-20.7-28.2-30.8-46.6-21.3-38.5-26-55.7-26-55.7-6.7-20.8 14.2-41 33.3-51.8h.2c9.2-4.8 18-3.2 23.9 3.9 0 0 12.4 14.8 17.7 22.1 5 6.8 11.7 17.7 15.2 23.8 6.1 10.9 2.3 22-3.7 26.6l-12 9.6c-6.1 4.9-5.3 14-5.3 14s17.8 67.3 84.3 84.3c0 0 9.1.8 14-5.3l9.6-12c4.6-6 15.7-9.8 26.6-3.7 14.7 8.3 33.4 21.2 45.8 32.9 7 5.7 8.6 14.4 3.8 23.6z"/></svg>',
        	'qq'			=> '<svg viewBox="0 0 24 24" width="24" height="24"><g><path d="M0 0h24v24H0z" fill="none"/><path d="M19.913 14.529a31.977 31.977 0 0 0-.675-1.886l-.91-2.246c0-.026.012-.468.012-.696C18.34 5.86 16.507 2 12 2 7.493 2 5.66 5.86 5.66 9.7c0 .229.011.671.012.697l-.91 2.246c-.248.643-.495 1.312-.675 1.886-.86 2.737-.581 3.87-.369 3.895.455.054 1.771-2.06 1.771-2.06 0 1.224.637 2.822 2.016 3.976-.515.157-1.147.399-1.554.695-.365.267-.319.54-.253.65.289.481 4.955.307 6.303.157 1.347.15 6.014.324 6.302-.158.066-.11.112-.382-.253-.649-.407-.296-1.039-.538-1.555-.696 1.379-1.153 2.016-2.751 2.016-3.976 0 0 1.316 2.115 1.771 2.06.212-.025.49-1.157-.37-3.894"/></g></svg>',
        	'gmail'			=> '<svg viewBox="0 0 24 24" width="24" height="24"><title/><path d="M24 4.5v15c0 .85-.65 1.5-1.5 1.5H21V7.387l-9 6.463-9-6.463V21H1.5C.649 21 0 20.35 0 19.5v-15c0-.425.162-.8.431-1.068C.7 3.16 1.076 3 1.5 3H2l10 7.25L22 3h.5c.425 0 .8.162 1.069.432.27.268.431.643.431 1.068z"/></svg>',
        	'yahoomail'		=> '<svg viewBox="0 0 56.693 56.693" width="56.693px" height="56.693px"><g><path d="M43.503,24.87c0.275-0.055,0.684-0.146,1.146-0.246h3.578l0.557-0.823c0.012-0.006,0.033-0.008,0.045-0.008l1.385-2   c-0.02,0-0.053-0.004-0.068-0.004l0.145-0.217H30.897l0.746,3.051h5.293l-8.906,8.039c-1.818-2.51-6.078-7.74-9.049-12.069h6.667   v-2.322l0.076-0.512c-0.02-0.004-0.057-0.01-0.076-0.01v-0.209H3.535v3.053h6.558c2.545,1.99,12.28,14.145,12.684,15.358   c0.162,1.135,0.311,7.836-0.166,8.342c-0.957,1.012-5.322,0.744-6.375,0.818l-0.364,2.076c1.923,0.057,8.181-0.156,10.126-0.156   c3.834,0,10.549-0.018,11.496,0.055l0.117-2.178c-0.969-0.164-6.254-0.02-6.984-0.186c-0.162-1.055-0.34-8.109-0.178-8.838   C31.179,33.778,42.286,25.198,43.503,24.87z"/><path d="M46.722,41.544l2.971,0.236l3.461-13.369c-0.578-0.02-5.83-0.516-6.512-0.648L46.722,41.544z"/><polygon points="46.208,43.687 46.226,46.95 47.729,47.081 49.354,47.202 49.831,44.007 48.118,43.923  "/></g></svg>',
        	'outlook'		=> '<svg viewBox="0 0 56.6934 56.6934" width="56.6934px" height="56.6934px"><g><path d="M38.9577,26.3841l14.6256-9.8605c0-1.1669-1.0887-2.0036-1.7031-2.0036H35.1861v9.7243l3.3984,2.1398   C38.6739,26.41,38.8682,26.4122,38.9577,26.3841z"/><path d="M39.2509,30.0032c0,0-0.5265,0.321-0.9632,0l-3.1016-2.1304h-0.0018v13.2156h15.7551c1.4002,0,2.6458-0.8157,2.6458-2.7616   V20.4542C53.5852,20.4542,38.7262,30.3242,39.2509,30.0032z"/><path d="M18.6389,34.1928c1.04,0,1.8651-0.4688,2.4738-1.4056c0.6087-0.9377,0.9149-2.2394,0.9149-3.9033   c0-1.7345-0.2949-3.0847-0.8871-4.0496c-0.5917-0.9635-1.3999-1.4453-2.4269-1.4453c-1.0569,0-1.899,0.4969-2.521,1.4878   c-0.6217,0.9925-0.9333,2.3051-0.9333,3.9386c0,1.6581,0.3116,2.9686,0.9333,3.9321   C16.8145,33.7132,17.6306,34.1928,18.6389,34.1928z"/><path d="M4.0003,47.6256l28.9409,6.0676V3.9801L4.0003,9.5818V47.6256z M13.9221,22.5941   c1.2267-1.6343,2.8514-2.4515,4.8736-2.4515c1.9098,0,3.4561,0.7804,4.6342,2.3454c1.1799,1.5643,1.7699,3.6248,1.7699,6.1852   c0.0018,2.631-0.6104,4.7521-1.8333,6.3619c-1.2232,1.609-2.8178,2.4161-4.7857,2.4161c-1.9177,0-3.4784-0.7804-4.6865-2.3397   c-1.2063-1.5608-1.8113-3.5924-1.8113-6.0986C12.083,26.3675,12.6957,24.2276,13.9221,22.5941z"/></g></svg>',
        	'email'			=> '<svg viewBox="0 0 24 24" width="24" height="24"><title/><path d="M19,5H5A2,2,0,0,0,3,7V17a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2V7A2,2,0,0,0,19,5Zm0,4-7,5L5,9V7l7,5,7-5Z"/></svg>',
        	'mailru'		=> '<svg viewBox="0 0 20 20" width="20" height="20"><path d="M13.6 13.47A4.99 4.99 0 0 1 5 10a5 5 0 0 1 8-4V5h2v6.5a1.5 1.5 0 0 0 3 0V10a8 8 0 1 0-4.42 7.16l.9 1.79A10 10 0 1 1 20 10h-.18.17v1.5a3.5 3.5 0 0 1-6.4 1.97zM10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>',
        	'tumblr'		=> '<svg viewBox="0 0 24 24" width="24" height="24"><title/><path d="M16.09875,17.61045A3.6191,3.6191,0,0,1,14.59583,17.9,1.59583,1.59583,0,0,1,13,16.30417V10.5h3.5V8H13V3H10.5A4.68255,4.68255,0,0,1,7,8v2.5H9l.02136,5.52411a5.16719,5.16719,0,0,0,8.015,4.118Z"/></svg>',
        	'reddit'		=> '<svg viewBox="0 0 24 24" width="24" height="24"><title/><path d="M9,12a1.25,1.25,0,1,0,1.25,1.25A1.25,1.25,0,0,0,9,12Z"/><path d="M14.75,12A1.25,1.25,0,1,0,16,13.25,1.25,1.25,0,0,0,14.75,12Z"/><path d="M22.67432,11.83936A2.9707,2.9707,0,0,0,17.80438,9.5365,11.20125,11.20125,0,0,0,12,8,11.20816,11.20816,0,0,0,6.20868,9.528a2.97813,2.97813,0,1,0-3.2085,4.975C3.00238,18.09143,7.03076,21,12,21c4.96283,0,8.98627-2.90125,8.99884-6.48346A2.97537,2.97537,0,0,0,22.67432,11.83936ZM4.33936,10.3501a1.4775,1.4775,0,0,1,.59308.13385,6.011,6.011,0,0,0-1.638,2.3927,1.46893,1.46893,0,0,1-.44434-1.03729A1.4908,1.4908,0,0,1,4.33936,10.3501ZM12,19.5c-4.06543,0-7.5-2.28973-7.5-5s3.43457-5,7.5-5,7.5,2.28973,7.5,5S16.06543,19.5,12,19.5Zm8.71161-6.60651a6.00073,6.00073,0,0,0-1.637-2.40271,1.47185,1.47185,0,0,1,1.637,2.40271Z"/><path d="M12,18.04248a5.92408,5.92408,0,0,1-3.23389-.9248.50013.50013,0,0,1,.55078-.835,5.26716,5.26716,0,0,0,5.36621,0,.50013.50013,0,0,1,.55078.835A5.92408,5.92408,0,0,1,12,18.04248Z"/><path d="M17.8501,3.5a2.23718,2.23718,0,0,0-1.74408.84607L12.69141,3.27686l-.22412.71631A39.57133,39.57133,0,0,0,11.0415,8.7915h.88477l.60205.13623c.05322-.23633.66162-2.21191,1.147-3.771l1.92578.60321A2.24952,2.24952,0,1,0,17.8501,3.5Zm0,3a.75.75,0,1,1,.75-.75A.75082.75082,0,0,1,17.8501,6.5Z"/></svg>',
        	'flipboard'		=> '<svg viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" width="1000" height="1000"><g><g transform="translate(0.000000,250.000000) scale(0.100000,-0.100000)"><path d="M100-2500v-4900h1632h1628.1v1628.1v1632l1628.1,11.9l1632,7.9l7.9,1632l11.9,1628.1l1632,11.9l1628.1,7.9V779.8V2400H5000H100V-2500z"/></g></g></svg>',
        	'mix'			=> '<svg viewBox="0 0 448 512" width="512" height="448"><path d="M0 64v348.9c0 56.2 88 58.1 88 0V174.3c7.9-52.9 88-50.4 88 6.5v175.3c0 57.9 96 58 96 0V240c5.3-54.7 88-52.5 88 4.3v23.8c0 59.9 88 56.6 88 0V64H0z"/></svg>',
        	'instapaper'	=> '<svg viewBox="0 0 24 24" width="24" height="24"><title/><path d="M14.766 20.259c0 1.819.271 2.089 2.934 2.292V24H6.301v-1.449c2.666-.203 2.934-.473 2.934-2.292V3.708c0-1.784-.27-2.089-2.934-2.292V0h11.398v1.416c-2.662.203-2.934.506-2.934 2.292v16.551z"/></svg>',
        	'pocket'		=> '<svg viewBox="0 0 448 512" width="512" height="512"><path d="M407.6 64h-367C18.5 64 0 82.5 0 104.6v135.2C0 364.5 99.7 464 224.2 464c124 0 223.8-99.5 223.8-224.2V104.6c0-22.4-17.7-40.6-40.4-40.6zm-162 268.5c-12.4 11.8-31.4 11.1-42.4 0C89.5 223.6 88.3 227.4 88.3 209.3c0-16.9 13.8-30.7 30.7-30.7 17 0 16.1 3.8 105.2 89.3 90.6-86.9 88.6-89.3 105.5-89.3 16.9 0 30.7 13.8 30.7 30.7 0 17.8-2.9 15.7-114.8 123.2z"/></svg>',
        	'hackernews'	=> '<svg viewBox="0 0 32 32" width="32" height="32"><path d="M 5 5 L 5 27 L 27 27 L 27 5 Z M 7 7 L 25 7 L 25 25 L 7 25 Z M 11.5 11 L 15 17 L 15 22 L 17 22 L 17 17 L 20.5 11 L 18.5 11 L 16 15.28125 L 13.5 11 Z"/></svg>',
        	'buffer'		=> '<svg viewBox="0 0 448 512" width="448" height="512"><path class="a" d="M427.84 380.67l-196.5 97.82a18.6 18.6 0 0 1-14.67 0L20.16 380.67c-4-2-4-5.28 0-7.29L67.22 350a18.65 18.65 0 0 1 14.69 0l134.76 67a18.51 18.51 0 0 0 14.67 0l134.76-67a18.62 18.62 0 0 1 14.68 0l47.06 23.43c4.05 1.96 4.05 5.24 0 7.24zm0-136.53l-47.06-23.43a18.62 18.62 0 0 0-14.68 0l-134.76 67.08a18.68 18.68 0 0 1-14.67 0L81.91 220.71a18.65 18.65 0 0 0-14.69 0l-47.06 23.43c-4 2-4 5.29 0 7.31l196.51 97.8a18.6 18.6 0 0 0 14.67 0l196.5-97.8c4.05-2.02 4.05-5.3 0-7.31zM20.16 130.42l196.5 90.29a20.08 20.08 0 0 0 14.67 0l196.51-90.29c4-1.86 4-4.89 0-6.74L231.33 33.4a19.88 19.88 0 0 0-14.67 0l-196.5 90.28c-4.05 1.85-4.05 4.88 0 6.74z"/></svg>',
        	'evernote'		=> '<svg viewBox="0 0 24 24" width="24" height="24"><g><path d="M0 0h24v24H0z" fill="none"/><path d="M10.5 8.5a1 1 0 0 1-1 1H6.001c-.336 0-.501.261-.501.532 0 1.32.254 2.372.664 3.193.216.433.399.67.523.79.735.76 1.886 1.16 3.092 1.089.095-.006.199-.064.332-.208a1.51 1.51 0 0 0 .214-.293 2 2 0 0 1 2.531-1.073c.693.258 1.277.434 1.813.56.196.046.375.083.586.122-.077-.014.402.074.518.098.34.07.598.146.883.29a5.087 5.087 0 0 1 1.775 1.475c.045-.591.077-1.268.087-2.026a34.182 34.182 0 0 0-.559-6.673c-.074-.398-.236-.562-.663-.718a3.847 3.847 0 0 0-.587-.155c-.147-.028-.65-.11-.693-.118a1273 1273 0 0 1-2.34-.409l-.528-.092a2 2 0 0 1-1.524-1.26 11.467 11.467 0 0 0-.034-.088 5.595 5.595 0 0 0-.702-.036c-.271 0-.388.124-.388.463V8.5zm6.23 11.639c.352-.356.56-.829.587-1.327.054-1.036-.824-2.48-2.317-2.634-.617-.063-1.586-.306-2.842-.774 0 0-.7 1.603-2.26 1.696-1.665.1-3.43-.433-4.65-1.696 0 0-1.748-1.64-1.748-5.372 0-.814.29-1.422.648-1.904.96-1.292 2.505-2.78 4.133-4.304C9 3.15 9.701 2.5 10.888 2.5c2.04 0 2.32.664 2.605 1.414l2.854.499c.907.166 3.15.316 3.578 2.594 1.006 5.42.458 9.87.347 10.675-.71 5.121-4.772 4.871-4.931 4.871-2.059 0-3.178-1.373-3.183-2.677a2.494 2.494 0 0 1 1.038-2.034 2.586 2.586 0 0 1 1.527-.478c.305 0 .687.318.687.753 0 .37-.255.575-.382.645-.223.124-1.122.174-1.122.865 0 .317.35 1.114 1.386 1.114.588 0 1.094-.256 1.437-.602zm-1.796-9.51c.166-.415.627-.632 1.172-.582.544.067.956.4 1.006.848 0 .083.017.183-.017.233-.032.05-.066.067-.1.067-.213.033-.543 0-1.021-.05-.48-.05-.808-.1-1.006-.2-.033-.017-.066-.033-.083-.083s.016-.15.05-.233z" fill-rule="nonzero"/></g></svg>',
        	'trello'		=> '<svg viewBox="0 0 24 24" width="24" height="24"><g><path d="M0 0h24v24H0z" fill="none"/><path d="M5 5v14h14V5H5zm0-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm3 4h2a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm6 0h2a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1z" fill-rule="nonzero"/></g></svg>',

        );

        // Define which share buttons to output

        $destinations_output = '';
       	$destination_category = '';
        $destination_buttons = '';

        // Social Networks

        if ( !empty( $destinations_social_networks ) ) {

        	$destination_category = 'Social Networks';

	        foreach ( $destinations_social_networks as $destination_key => $destination_value ) {

	       		$destination_button = '';

	        	switch ( $destination_key ) {

	        		case 'facebook':
	        			$destination_url = $share_urls['facebook'].'?u='.$post_url;
	        			break;

	        		case 'twitter':
	        			$destination_url = $share_urls['twitter'].'?url='.$post_url.'&text='.$post_title;
	        			break;

	        		case 'linkedin':
	        			$destination_url = $share_urls['linkedin'].'?url='.$post_url.'&title='.$post_title;
	        			break;

	        		case 'pinterest':
	        			$destination_url = $share_urls['pinterest'].'?media='.$post_media.'&url='.$post_url.'&description='.$post_title;
	        			break;

	        		case 'snapchat':
	        			$destination_url = $share_urls['snapchat'].'?&attachmentUrl='.$post_url;
	        			break;

	        		case 'vk':
	        			$destination_url = $share_urls['vk'].'?&url='.$post_url;
	        			break;

	        		case 'qzone':
	        			$destination_url = $share_urls['qzone'].'?&url='.$post_url.'&title='.$post_title.'&summary='.$post_title.'&pics='.$post_media;
	        			break;

	        		case 'weibo':
	        			$destination_url = $share_urls['weibo'].'?title='.$post_title.'&url='.$post_url.'&pic='.$post_media;
	        			break;

	        		case 'mixi':
	        			$destination_url = $share_urls['mixi'].'?u='.$post_url;
	        			break;

	        	}

       			$destination_button = '<a href="'.$destination_url.'" class="destination-box '.$destination_key.'" target="_blank">'.$share_icons[$destination_key].'<span>'.$destination_value.'</span></a>';

	       		$destination_buttons .= $destination_button;

	        }

       		$destinations_output .= '<h4>'.$destination_category.'</h4>';
       		$destinations_output .= '<div class="destinations-wrapper">'.$destination_buttons.'</div>';

        }

        // Chat Apps

        $destination_buttons = '';

        if ( !empty( $destinations_chat_apps ) ) {

        	$destination_category = 'Chat Apps';

	        foreach ( $destinations_chat_apps as $destination_key => $destination_value ) {

	       		$destination_button = '';

	        	switch ( $destination_key ) {

	        		case 'whatsapp':
	        			$destination_url = $share_urls['whatsapp'].'?text='.$post_title.' '.$post_url;
	        			break;

	        		case 'telegram':
	        			$destination_url = $share_urls['telegram'].'?url='.$post_url.'&text='.$post_title;
	        			break;

	        		case 'messenger':
	        			$destination_url = $share_urls['messenger'].'?link='.$post_url;
	        			break;

	        		case 'wechat':
	        			$destination_url = $share_urls['wechat'].'?url='.$post_url;
	        			break;

	        		case 'skype':
	        			$destination_url = $share_urls['skype'].'?text='.$post_title;
	        			break;

	        		case 'line':
	        			$destination_url = $share_urls['line'].'?text='.$post_title;
	        			break;

	        		case 'viber':
	        			$destination_url = $share_urls['viber'].'?text='.$post_title;
	        			break;

	        		case 'wechat':
	        			$destination_url = $share_urls['wechat'].'?text='.$post_title;
	        			break;

	        		case 'skype':
	        			$destination_url = $share_urls['skype'].'?url='.$post_url.'&text='.$post_title;
	        			break;

	        		case 'line':
	        			$destination_url = $share_urls['line'].'?url='.$post_url.'&text='.$post_title;
	        			break;

	        		case 'viber':
	        			$destination_url = $share_urls['line'].'?text='.$post_title.' '.$post_url;
	        			break;

	        		case 'qq':
	        			$destination_url = $share_urls['qq'].'?url='.$post_url.'&title='.$post_title.'&summary=&pics=';
	        			break;

	        	}

       			$destination_button = '<a href="'.$destination_url.'" class="destination-box '.$destination_key.'" target="_blank">'.$share_icons[$destination_key].'<span>'.$destination_value.'</span></a>';

	       		$destination_buttons .= $destination_button;

	        }

       		$destinations_output .= '<h4>'.$destination_category.'</h4>';
       		$destinations_output .= '<div class="destinations-wrapper">'.$destination_buttons.'</div>';

        }

        // Email Providers

        $destination_buttons = '';

        if ( !empty( $destinations_email_providers ) ) {

        	$destination_category = 'Email Providers';

	        foreach ( $destinations_email_providers as $destination_key => $destination_value ) {

	       		$destination_button = '';

	        	switch ( $destination_key ) {

	        		case 'gmail':
	        			$destination_url = $share_urls['gmail'].'?view=cm&to=&su=Article: '.$post_title.'&body='.$post_url;
	        			break;

	        		case 'yahoomail':
	        			$destination_url = $share_urls['yahoomail'].'?to=&subject='.$post_title.'&body='.$post_url;
	        			break;

	        		case 'outlook':
	        			$destination_url = $share_urls['outlook'].'?path=%2Fmail%2Finbox&subject='.$post_title.'&body='.$post_url;
	        			break;

	        		case 'email':
	        			$destination_url = $share_urls['email'].'?subject='.$post_title.'&body='.$post_url;
	        			break;

	        		case 'mailru':
	        			$destination_url = $share_urls['mailru'].'?share_url='.$post_url;
	        			break;

	        	}

       			$destination_button = '<a href="'.$destination_url.'" class="destination-box '.$destination_key.'" target="_blank">'.$share_icons[$destination_key].'<span>'.$destination_value.'</span></a>';

	       		$destination_buttons .= $destination_button;

	        }

       		$destinations_output .= '<h4>'.$destination_category.'</h4>';
       		$destinations_output .= '<div class="destinations-wrapper">'.$destination_buttons.'</div>';

        }

        // More Destinations

        $destination_buttons = '';

        if ( !empty( $destinations_more ) ) {

        	$destination_category = 'Other Destinations';

	        foreach ( $destinations_more as $destination_key => $destination_value ) {

	       		$destination_button = '';

	        	switch ( $destination_key ) {

	        		case 'tumblr':
	        			$destination_url = $share_urls['tumblr'].'?t='.$post_title.'&t=u='.$post_url.'&v=3';
	        			break;

	        		case 'reddit':
	        			$destination_url = $share_urls['reddit'].'?title='.$post_title.'&url='.$post_url;
	        			break;

	        		case 'flipboard':
	        			$destination_url = $share_urls['flipboard'].'?title='.$post_title.'&url='.$post_url;
	        			break;

	        		case 'mix':
	        			$destination_url = $share_urls['mix'].'?url='.$post_url;
	        			break;

	        		case 'instapaper':
	        			$destination_url = $share_urls['instapaper'].'?url='.$post_url.'&title='.$post_title.'&description=';
	        			break;

	        		case 'pocket':
	        			$destination_url = $share_urls['pocket'].'?url='.$post_url;
	        			break;

	        		case 'hackernews':
	        			$destination_url = $share_urls['hackernews'].'?u='.$post_url.'&t='.$post_title;
	        			break;

	        		case 'googleclassroom':
	        			$destination_url = $share_urls['googleclassroom'].'?url='.urldecode($post_url);
	        			break;

	        		case 'buffer':
	        			$destination_url = $share_urls['buffer'].'?text='.$post_title.'&url='.$post_title;
	        			break;

	        		case 'evernote':
	        			$destination_url = $share_urls['evernote'].'?title='.$post_title.'&url='.$post_url;
	        			break;

	        		case 'trello':
	        			$destination_url = $share_urls['trello'].'?mode=popup&url='.$post_url.'&name='.$post_title.'&desc='.$post_url;
	        			break;

	        	}

       			$destination_button = '<a href="'.$destination_url.'" class="destination-box '.$destination_key.'" target="_blank">'.$share_icons[$destination_key].'<span>'.$destination_value.'</span></a>';

	       		$destination_buttons .= $destination_button;

	        }

       		$destinations_output .= '<h4>'.$destination_category.'</h4>';
       		$destinations_output .= '<div class="destinations-wrapper">'.$destination_buttons.'</div>';

        }

        // Custom styles

		$styles = '

			:root {
				--fsb-corner-spacing: '.$corner_spacing_numeric.'px;
				--fsb-icon-size: '.$size_numeric.'px;
				--fsb-background-color: '.$background_color.';
				--fsb-icon-color: '.$icon_color.';
				--fsb-border-color: '.$border_color.';
				--fsb-button-opacity: '.$opacity.'; 
			}

			.floating-share {
				display: flex;
				align-items: center;
				justify-content: center;
				padding: 8px;
				background: var(--fsb-background-color);
				border: 0;
			}

			.floating-share svg {
				width: var(--fsb-icon-size);
				height: var(--fsb-icon-size);
				fill: var(--fsb-icon-color);
			}

			.floating-share svg.fsb-share11, 
			.floating-share svg.fsb-share12 {
				stroke: var(--fsb-icon-color);
			}

			.floating-share svg path {
				fill: var(--fsb-icon-color);
			}

			.floating-share svg.fsb-share13 {
				fill: none;
			}

			.floating-share svg.fsb-share12 path,
			.floating-share svg.fsb-share13 path {
				fill: none;
			}

			.floating-share svg.fsb-share13 path:last-child {
				fill: var(--fsb-icon-color);
			}

			.floating-share.right-side {
				bottom: var(--fsb-corner-spacing);
				right: var(--fsb-corner-spacing);
			}

			.floating-share.left-side {
				bottom: var(--fsb-corner-spacing);
				left: var(--fsb-corner-spacing);
			}

			.floating-share.style-rounded {
				border-radius: 4px;
			}

			.floating-share.style-square {
				border-radius: 0;
			}

			.floating-share.style-circle {
				border-radius: 1000px;
			}

			.floating-share.has-border {
				border: 1px solid var(--fsb-border-color);
			}

			.fsb .floating-share--fade-out {
			    opacity: var(--fsb-button-opacity);
			}

			'.$show_on_desktop_css.'

			'.$show_on_mobile_css.'

			/* Sharesheet */

			@media screen and (min-width: 769px) {
				.fsb-modal-content,
				.fsb-modal-card {
					width: '.$sharesheet_width.'px;
				}
			}

		';

		// Remove line breaks so it does not cause error during script execution
		$styles = preg_replace( "/\r|\n/", "", $styles );

        // Output button, sharesheet and styles if functionality is enabled

		if ( $enabled == true ) {

			// Output the share button

			$output = '
				<div class="fsb">
					<button class="floating-share fsb-button">'.$svg.'</button>
				</div>
			';

			// Output the sharesheet
			// Modified from https://codepen.io/ayoisaiah/pen/WBpzBo
			// QR code API https://goqr.me/api/

			$output .= '
				<div class="fsb-modal">
					<div class="fsb-modal-background"></div>
					<div class="fsb-modal-card">
						<section class="fsb-modal-card-body">
							<h3 class="fsb-modal-title">Share this page</h3>
							'.$qr_code_html.'
							<div class="fsb-destinations">'.$destinations_output.'</div>
							<div class="fsb-debug">
								<p>'.$destinations_string.'</p>
							</div>
						</section>
						<button class="fsb-modal-close is-large"></button>
					</div>
				</div>
			';

			// Output the script to trigger sharesheet display

			$output .= '
				<script id="floating-share-button">

					// Set button behaviour
				    // Based on main.js from https://github.com/CodyHouse/back-to-top

					var fsbButton = document.getElementsByClassName("fsb-button")[0],
						floatingShareVisibleClass = "floating-share--is-visible";
						floatingShareFadeOutClass = "floating-share--fade-out";
						fsbPositionClass = "'.$position_class.'",
						fsbStyleClass = "'.$style_class.'",
						fsbBorderClass = "'.$border_class.'",
						fsbColorSchemeClass = "'.$color_scheme_class.'",
						fsbOffset = '.$offset_show.',
						fsbOffsetOpacity = '.$offset_fade.',
						fsbScrolling = false,
						fsbDevice = "'.$device.'",
						shareModal = document.querySelector(".fsb-modal"),
						shareModalBg = document.querySelector(".fsb-modal-background"),
						shareSheet = document.querySelector(".fsb-modal-content"),
						closeButton = document.querySelector(".fsb-modal-close");

					fsbUtil.addClass(fsbButton, fsbPositionClass +" "+ fsbStyleClass +" "+ fsbBorderClass +" "+ fsbColorSchemeClass);

					// Add HTML <styles> block for custom styles

					var fsbStyles = "<style id=\"floating-share-button\">'.$styles.'</style>";

					window.addEventListener("load",function(event) {
						document.head.insertAdjacentHTML("beforeend", fsbStyles);
					},false);

					// Define scroll behaviour

					if ( fsbButton ) {
						//update back to top visibility on scrolling
						window.addEventListener("scroll", function(event) {
							if( !fsbScrolling ) {
								fsbScrolling = true;
								(!window.requestAnimationFrame) ? setTimeout(checkBackfloatingShare, 250) : window.requestAnimationFrame(checkBackfloatingShare);
							}
						});

					}

					function checkBackfloatingShare() {
						var windowTop = window.scrollY || document.documentElement.scrollTop;

						if ( windowTop > fsbOffset ) {
							fsbUtil.addClass(fsbButton, floatingShareVisibleClass)
						} else {
							fsbUtil.removeClass(fsbButton, floatingShareVisibleClass + " " + floatingShareFadeOutClass)
						}

						if ( windowTop > fsbOffsetOpacity ) {
							fsbUtil.addClass(fsbButton, floatingShareFadeOutClass)
						}

						fsbScrolling = false;
					}

					// Define sharesheet behaviour. Reference: https://css-tricks.com/how-to-use-the-web-share-api/

					fsbButton.addEventListener("click", event => {

						if ( fsbDevice == "mobile" ) {

							if (navigator.share) { 
								navigator.share({
									title: "'.urldecode( $post_title ).'",
									url: "'.$post_url.'"
								}).then(() => {
									console.log("Thanks for sharing!");
								})
								.catch(console.error);
							}					

						} else if ( fsbDevice == "desktop" ) {

							shareModal.classList.add("is-active");
							console.log("This should show desktop sharesheet");

						}

					});

					shareModalBg.addEventListener("click", event => {
						
						shareModal.classList.remove("is-active");

					});

					closeButton.addEventListener("click", event => {
						
						shareModal.classList.remove("is-active");

					});


				</script>
			';

			echo $output;

		}

	}

}
